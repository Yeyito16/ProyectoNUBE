<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iphone 11</title>
    <link rel="stylesheet" href="../styles/producto.css">
    <link href='https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css' rel='stylesheet'>
</head>
<body>
    <header>
        <h1>Diego Iphone</h1>
        <a href="./Carro.html" class="cart-button"><i class='bx bx-cart'></i> Carrito (<span id="cart-count">0</span>)</a>
    </header>

    <main>
        <section class="producto">
            <div class="producto-imagen">
                <img src="../resources/images/iphone_11.webp" alt="iPhone 11">
            </div>
            
            <div class="producto-detalles">
                <h2>Iphone 11</h2>
                <h3> Apple</h3>
                <p class="precio">$ 2.300.000</p>
                <div class="medios-pago">
                    <h3>Pagos PSE</h3>
                    <p>Visa, Bancolombia, MasterCard, Nequi</p>
                </div>
                <div class="producto-acciones">
                    <button id="btnrent" class="btn btn-primary" onclick="redirectToPayment()">Comprar</button>
                    <button id="btnaddcar" class="btn btn-secondary">Agregar al Carrito</button>
                </div>
                <p class="fabricante">Apple</p>
                
            </div>
        </section>

        <section class="especificaciones">
            <h2>Especificaciones Técnicas</h2>
            <table>
                <tr>
                    <th>Característica</th>
                    <th>Detalle</th>
                </tr>
                <tr>
                    <td>Pantalla</td>
                    <td>LCD Liquid Retina de 6.1 pulgadas</td>
                </tr>
                <tr>
                    <td>Chip</td>
                    <td>A13 Bionic</td>
                </tr>
                <tr>
                    <td>Cámaras</td>
                    <td>Doble cámara de 12 MP (gran angular y ultra gran angular)
                    </td>
                </tr>
                <tr>
                    <td>Funciones</td>
                    <td> Face ID, video 4K, Modo Noche, resistencia al agua y al polvo (IP68)</td>
                </tr>
                
            </table>
        </section>

    </main>

    <footer>
        <p>&copy; Diego iphone</p>
    </footer>

    <script type="module">
document.addEventListener('DOMContentLoaded', async () => {

    let cartCounter = 0;

    const btnAddToCart = document.getElementById('btnaddcar');
    const cartButton = document.getElementById('cart-button');

    btnAddToCart.addEventListener('click', async () => {

        cartCounter++;

        if (cartButton) {
            cartButton.innerText = `Carrito (${cartCounter})`;
        }

        alert('¡Producto agregado al carrito!');
    });

    function redirectToPayment() {
        const nombreProducto = "Iphone 11";
        const precioProducto = "2300000";
        const urlPago = `pago.html?producto=${encodeURIComponent(nombreProducto)}&precio=${encodeURIComponent(precioProducto)}`;
        window.location.href = urlPago;
    }
});
    </script>
</body>
</html>
